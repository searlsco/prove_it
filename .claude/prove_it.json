{
  "configVersion": 2,
  "enabled": true,
  "sources": [
    "cli.js",
    "lib/**/*.js",
    "test/**/*.js"
  ],
  "format": {
    "maxOutputChars": 12000
  },
  "hooks": [
    {
      "type": "claude",
      "event": "SessionStart",
      "checks": [
        {
          "name": "local-shim-check",
          "type": "script",
          "command": "./script/check_local_shim",
          "mtime": false
        },
        {
          "name": "session-baseline",
          "type": "script",
          "command": "prove_it builtin:session-baseline"
        },
        {
          "name": "beads-reminder",
          "type": "script",
          "command": "prove_it builtin:beads-reminder"
        }
      ]
    },
    {
      "type": "claude",
      "event": "PreToolUse",
      "matcher": "Edit|Write|NotebookEdit|Bash",
      "checks": [
        {
          "name": "config-protection",
          "type": "script",
          "command": "prove_it builtin:config-protection"
        },
        {
          "name": "beads-gate",
          "type": "script",
          "command": "prove_it builtin:beads-gate",
          "when": {
            "fileExists": ".beads"
          }
        }
      ]
    },
    {
      "type": "claude",
      "event": "PreToolUse",
      "matcher": "Bash",
      "triggers": [
        "(^|\\s)git\\s+commit\\b"
      ],
      "checks": [
        {
          "name": "full-tests",
          "type": "script",
          "command": "./script/test"
        }
      ]
    },
    {
      "type": "claude",
      "event": "Stop",
      "checks": [
        {
          "name": "fast-tests",
          "type": "script",
          "command": "./script/test_fast"
        },
        {
          "name": "soft-stop",
          "type": "script",
          "command": "prove_it builtin:soft-stop-reminder"
        }
      ]
    }
  ]
}
