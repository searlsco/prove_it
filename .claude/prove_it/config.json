{
  "enabled": true,
  "sources": [
    "cli.js",
    "lib/**/*.js",
    "test/**/*.js",
    "script/**/*",
    "example/**/*.js"
  ],
  "hooks": [
    {
      "type": "claude",
      "event": "SessionStart",
      "tasks": [
        {
          "name": "session-briefing",
          "type": "script",
          "command": "prove_it run_builtin session:briefing"
        }
      ]
    },
    {
      "type": "claude",
      "event": "PreToolUse",
      "matcher": "Write|Edit|MultiEdit|NotebookEdit|Bash|mcp__.*",
      "tasks": [
        {
          "name": "lock-config",
          "type": "script",
          "command": "prove_it run_builtin config:lock",
          "quiet": true
        }
      ]
    },
    {
      "type": "claude",
      "event": "Stop",
      "tasks": [
        {
          "name": "fast-tests",
          "type": "script",
          "command": "./script/test_fast",
          "when": {
            "sourcesModifiedSinceLastRun": true
          }
        },
        {
          "name": "full-tests",
          "type": "script",
          "command": "./script/test",
          "when": {
            "signal": "done",
            "sourceFilesEdited": true
          }
        },
        {
          "name": "coverage-review",
          "type": "agent",
          "async": true,
          "promptType": "skill",
          "prompt": "prove-coverage",
          "model": "haiku",
          "ruleFile": ".claude/rules/testing.md",
          "when": {
            "linesChanged": 541
          }
        },
        {
          "name": "shipworthy-review",
          "type": "agent",
          "promptType": "skill",
          "prompt": "prove-shipworthy",
          "model": "opus",
          "ruleFile": ".claude/rules/testing.md",
          "when": {
            "signal": "done"
          }
        }
      ]
    },
    {
      "type": "git",
      "event": "pre-commit",
      "tasks": [
        {
          "name": "full-tests",
          "type": "script",
          "command": "./script/test",
          "when": {
            "sourcesModifiedSinceLastRun": true
          }
        }
      ]
    }
  ],
  "initSeed": "85acb4683ce8"
}
