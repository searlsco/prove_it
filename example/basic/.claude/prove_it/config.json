{
  "enabled": true,
  "sources": [
    "**/*.*",
    "replace/these/with/globs/of/your/source/and/test/files.*"
  ],
  "hooks": [
    {
      "type": "claude",
      "event": "SessionStart",
      "tasks": [
        {
          "name": "session-briefing",
          "type": "script",
          "command": "prove_it run_builtin session:briefing"
        }
      ]
    },
    {
      "type": "claude",
      "event": "PreToolUse",
      "matcher": "Edit|Write|NotebookEdit|Bash",
      "tasks": [
        {
          "name": "lock-config",
          "type": "script",
          "command": "prove_it run_builtin config:lock",
          "quiet": true
        }
      ]
    },
    {
      "type": "claude",
      "event": "Stop",
      "tasks": [
        {
          "name": "fast-tests",
          "type": "script",
          "command": "./script/test_fast"
        },
        {
          "name": "coverage-review",
          "type": "agent",
          "async": true,
          "prompt": "review:test_coverage",
          "promptType": "reference",
          "model": "haiku",
          "when": {
            "linesChanged": 541
          },
          "ruleFile": ".claude/rules/testing.md"
        },
        {
          "name": "shipworthy-review",
          "type": "agent",
          "promptType": "reference",
          "prompt": "review:shipworthy",
          "model": "opus",
          "ruleFile": ".claude/rules/testing.md",
          "when": {
            "signal": "done"
          }
        }
      ]
    },
    {
      "type": "git",
      "event": "pre-commit",
      "tasks": [
        {
          "name": "full-tests",
          "type": "script",
          "command": "./script/test"
        }
      ]
    }
  ]
}
